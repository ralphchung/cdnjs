!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.SmartBanner=e()}}(function(){return function e(t,n,o){function i(a,s){if(!n[a]){if(!t[a]){var p="function"==typeof require&&require;if(!s&&p)return p(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return i(n||e)},d,d.exports,e,t,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,n){var o=e("xtend/mutable"),i=e("component-query"),r=e("get-doc"),a=r&&r.documentElement,s=e("cookie-cutter"),p={ios:{appMeta:"apple-itunes-app",iconRels:["apple-touch-icon-precomposed","apple-touch-icon"],getStoreLink:function(){return"https://itunes.apple.com/"+this.options.appStoreLanguage+"/app/id"+this.appId}},android:{appMeta:"google-play-app",iconRels:["android-touch-icon","apple-touch-icon-precomposed","apple-touch-icon"],getStoreLink:function(){return"http://play.google.com/store/apps/details?id="+this.appId}}},c=function(e){var t=navigator.userAgent;this.options=o({},{daysHidden:15,daysReminder:90,appStoreLanguage:"us",button:"VIEW",store:{ios:"On the App Store",android:"In Google Play"},price:{ios:"FREE",android:"FREE"},force:!1},e||{}),this.options.force?this.type=this.options.force:null!==t.match(/iPad|iPhone|iPod/i)?null!==t.match(/Safari/i)&&(null!==t.match(/CriOS/i)||Number(t.substr(t.indexOf("OS ")+3,3).replace("_","."))<6)&&(this.type="ios"):null!==t.match(/Android/i)&&(this.type="android"),!this.type||navigator.standalone||s.get("smartbanner-closed")||s.get("smartbanner-installed")||(o(this,p[this.type]),this.parseAppId()&&(this.create(),this.show()))};c.prototype={constructor:c,create:function(){for(var e,t=this.getStoreLink(),n=this.options.price[this.type]+" - "+this.options.store[this.type],o=0;o<this.iconRels.length;o++){var a=i('link[rel="'+this.iconRels[o]+'"]');if(a){e=a.getAttribute("href");break}}var s=r.createElement("div");s.className="smartbanner smartbanner-"+this.type,s.innerHTML='<div class="smartbanner-container"><a href="javascript:void(0);" class="smartbanner-close">&times;</a><span class="smartbanner-icon" style="background-image: url('+e+')"></span><div class="smartbanner-info"><div class="smartbanner-title">'+this.options.title+"</div><div>"+this.options.author+"</div><span>"+n+'</span></div><a href="'+t+'" class="smartbanner-button"><span class="smartbanner-button-text">'+this.options.button+"</span></a></div>",r.body?r.body.appendChild(s):r&&r.addEventListener("DOMContentLoaded",function(){r.body.appendChild(s)}),i(".smartbanner-button",s).addEventListener("click",this.install.bind(this),!1),i(".smartbanner-close",s).addEventListener("click",this.close.bind(this),!1)},hide:function(){a.classList.remove("smartbanner-show")},show:function(){a.classList.add("smartbanner-show")},close:function(){this.hide(),s.set("smartbanner-closed","true",{path:"/",expires:+new Date+1e3*this.options.daysHidden*60*60*24})},install:function(){this.hide(),s.set("smartbanner-installed","true",{path:"/",expires:+new Date+1e3*this.options.daysReminder*60*60*24})},parseAppId:function(){var e=i('meta[name="'+this.appMeta+'"]');if(e)return this.appId=/app-id=([^\s,]+)/.exec(e.getAttribute("content"))[1],this.appId}},t.exports=c},{"component-query":2,"cookie-cutter":3,"get-doc":4,"xtend/mutable":6}],2:[function(e,t,n){function o(e,t){return t.querySelector(e)}(n=t.exports=function(e,t){return o(e,t=t||document)}).all=function(e,t){return(t=t||document).querySelectorAll(e)},n.engine=function(e){if(!e.one)throw new Error(".one callback required");if(!e.all)throw new Error(".all callback required");return o=e.one,n.all=e.all,n}},{}],3:[function(e,t,n){n=t.exports=function(e){e||(e={}),"string"==typeof e&&(e={cookie:e}),void 0===e.cookie&&(e.cookie="");var t={get:function(t){for(var n=e.cookie.split(/;\s*/),o=0;o<n.length;o++){var i=n[o].split("=");if(unescape(i[0])===t)return unescape(i[1])}},set:function(t,n,o){o||(o={});var i=escape(t)+"="+escape(n);return o.expires&&(i+="; expires="+o.expires),o.path&&(i+="; path="+escape(o.path)),e.cookie=i,i}};return t};if("undefined"!=typeof document){var o=n(document);n.get=o.get,n.set=o.set}},{}],4:[function(e,t,n){var o=e("has-dom");t.exports=o()?document:null},{"has-dom":5}],5:[function(e,t,n){"use strict";t.exports=function(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}},{}],6:[function(e,t,n){t.exports=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}},{}]},{},[1])(1)});